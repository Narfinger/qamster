<html lang="en" ng-app="qamsterApp">
  <head>
      <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/angular_material/1.1.0-rc2/angular-material.min.css">
      <link href='/css/qamster.css' rel='stylesheet' type='text/css'>
      
      <meta name="viewport" content="initial-scale=1" />
  </head>
  <body layout="column" ng-controller="QamsterCtrl as ctrl">
    <md-toolbar layout="row">
      <div class="md-toolbar-tools">
        <h1>Qamster</h1>
      </div>
    </md-toolbar>

    <section layout="row" layout-sm="column" layout-align="center center" layout-wrap>
        <div layout="column" flex ng-model="running">Running: {{ running }}</div>
        <div layout="column" flex ng-model="tracking">Currently Tracking: {{ tracking }}</div>
        <div layout="column" flex ng-model="time">Time: {{ time }}</div>
    </section>
    <form novalidate class="simple-form">
        <md-input-container>
            <label>Task:</label>
            <md-autocomplete
                md-no-cache="true"
                md-search-text="searchedText"
                md-selected-item="itemedText"
                md-items="item in getMatchingTasks(searchedText)"
                md-match-case-insensitive="true"
                md-item-text="item.display"
                md-input-minlength="1"
                placeholder="Start a Task">
                <md-item-template>
                    <span md-highlight-text="searchedText" md-highlight-flags="^i">{{item.display}}</span>
                </md-item-template>
            </md-autocomplete>
        </md-input-container>
        <md-button ng-click="addTask()" type="submit">Add Task</md-button>
        <md-button ng-click="stop()">Stop</md-button>
    </form>
    
        <div layout="row" flex>
        <div layout="column" flex>
            <md-content layout="column" flex class="md-padding">
                <table>
                    <tr>
                        <th>Index</th>
                        <th>Start</th>
                        <th>End</th>
                        <th>Title</th>
                        <th>Category</th>
                        <th>Runtime</th>
                    </tr>
                    
                    <tr ng-show="tasks.length" ng-repeat="task in tasks track by $index" ng-dblclick="addTaskByTask(task)">
                        <td>{{ $index + 1 }}</td>
                        <td>{{ task.start | date:'HH:mm' }}</td>
                        <td>{{ task.end   | date:'HH:mm' }}</td>
                        <td>{{ task.title }}</td>
                        <td>{{ task.category }}</td>
                        <td>{{ computeDuration(task.start, task.end) }}</td>
                    </tr>
                </table>                
            </md-content>
        </div>
        </div>
        <div layout="row">
            <div layout="column" flex ng-show="summary.length" ng-repeat="x in summary">
                {{ x.title }}: {{ secondsToTime(x.seconds) }} ({{ x.percentage }})
            </div>
        </div>
        <!-- Angular Material Dependencies -->
        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.3/angular.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.3/angular-animate.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.3/angular-aria.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angular_material/1.1.0-rc2/angular-material.min.js"></script>
    
    
    <script src="/js/qamster.js"></script>
  </body>
</html>
